<div class="container-form">
  <div class="title-div">
    <button class="back-btn" (click)="goBack()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14 7l-5 5 5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <h1>Formulario de Registro</h1>
  </div>
  <hr>
  <form [formGroup]="form" class="form-container">
    <div class="form-grid">
      <div class="form-group">
        <label for="id">ID</label>
        <input id="id" formControlName="id" type="text"
               [ngClass]="{'invalid': form.get('id')?.invalid && form.get('id')?.touched}"
               placeholder="Escribe"
        />
        <span class="text-danger"
              *ngIf="form.get('id')?.touched && (form.get('id')?.hasError('required'))">
          <span>El ID es requerido</span>
        </span>
        <span class="text-danger"
              *ngIf="form.get('id')?.value !== '' && form.get('id')?.hasError('marginError')">
          El ID debe tener entre 3 y 10 caracteres
        </span>
        <span class="text-danger"
              *ngIf="form.get('id')?.hasError('idTaken')">
          Este ID ya está en uso
        </span>
      </div>
      <div class="form-group">
        <label for="name">Nombre</label>
        <input id="name" formControlName="name" type="text"
               [ngClass]="{'invalid': form.get('name')?.invalid && form.get('name')?.touched}"
               placeholder="Escribe"
        />
        <span class="text-danger"
              *ngIf="form.get('name')?.touched && (form.get('name')?.hasError('required'))">
          <span>El nombre es requerido</span>
        </span>
        <span class="text-danger"
              *ngIf="form.get('name')?.value !== '' && form.get('name')?.hasError('marginError')">
          El nombre debe tener entre 5 y 100 caracteres
        </span>
      </div>
      <div class="form-group">
        <label for="description">Descripción</label>
        <input id="description" formControlName="description"
               [ngClass]="{'invalid': form.get('description')?.invalid && form.get('description')?.touched}"
               placeholder="Escribe"
        />
        <span class="text-danger"
              *ngIf="form.get('description')?.touched && (form.get('description')?.hasError('required'))">
          <span>La descripción es requerida</span>
        </span>
        <span class="text-danger"
              *ngIf="form.get('description')?.value !== '' && form.get('description')?.hasError('marginError')">
          La descripción debe tener entre 10 y 200 caracteres
        </span>
      </div>
      <div class="form-group">
        <label for="logo">Logo</label>
        <input id="logo" formControlName="logo" type="text"
               [ngClass]="{'invalid': form.get('logo')?.invalid && form.get('logo')?.touched}"
               placeholder="Escribe"
        />
        <span class="text-danger"
              *ngIf="form.get('logo')?.touched && (form.get('logo')?.hasError('required'))">
          <span>El logo es requerido</span>
        </span>
      </div>
      <div class="form-group">
        <label for="date_release">Fecha de Liberación</label>
        <input id="date_release" formControlName="date_release" type="date"
               [ngClass]="{'invalid': form.get('date_release')?.invalid && form.get('date_release')?.touched}"
               (change)="onDateReleaseChange($event)"
               [attr.min]="today"
        />
        <span class="text-danger"
              *ngIf="form.get('date_release')?.touched && (form.get('date_release')?.hasError('required'))">
          <span>La fecha de liberación es requerida</span>
        </span>
      </div>
      <div class="form-group">
        <label for="date_revision">Fecha de Revisión</label>
        <input id="date_revision" formControlName="date_revision" type="date"
               [ngClass]="{'invalid': form.get('date_revision')?.invalid && form.get('date_revision')?.touched}"
               [attr.min]="minDateRevision"
        />
        <span class="text-danger"
              *ngIf="form.get('date_revision')?.touched && (form.get('date_revision')?.hasError('required'))">
          <span>La fecha de revisión es requerida</span>
        </span>
      </div>
    </div>
  </form>
  <div class="button-container">
    <button type="button" class="reset-btn" (click)="resetForm()">Reiniciar</button>
    <button type="button" class="submit-btn" (click)="onSubmit()">Enviar</button>
  </div>
</div>
